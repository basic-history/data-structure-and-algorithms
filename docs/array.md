
本文是数组的简要介绍。

## 概念

数组（Array）是一种线性表数据结构。它用一组连续的内存空间来存储一组具有相同类型的数据。

## 特性

### 线性表

线性表就是数据排成像一条线一样的结构。常见的线性表结构：数组，链表、队列、栈等。

### 连续的内存空间和相同类型的数据

- 优点：两限制使得具有随机访问的特性
- 缺点：删除，插入数据效率低

### 随机访问

确切的说是根据下标随机访问元素，那么数组怎么根据下标随机访问？通过计算机的寻址公式，计算出该元素存储的内存地址 `a[i]_address = base_address + i * data_type_size`。

### 低效的插入和删除

为什么插入和删除低效？

（1）插入：

若有一元素想往 int[n] 的第 k 个位置插入数据，需要在 k-n 的位置往后移。最好情况时间复杂度 O(1)，最坏情况复杂度为 O(n)，平均负责度为 O(n)。

如果数组中的数据不是有序的，也就是无规律的情况下，存在优化的空间。可以直接把第 k 个位置上的数据移到最后，然后将插入的数据直接放在第 k 个位置上。这样就不用移动元素，时间复杂度为 O(1)。

（2）删除：

与插入类似，为了保持内存的连续性。最好情况时间复杂度 O(1),最坏情况复杂度为 O(n),平均复杂度为 O(n)。

提高效率：将多次删除操作中集中在一起执行，可以先记录已经删除的数据，但是不进行数据迁移，而仅仅是记录，当发现没有更多空间存储时，再执行真正的删除操作。这也是 JVM 标记清除垃圾回收算法的核心思想。

## 用数组还是容器

数组先指定了空间大小，容器如 ArrayList 可以动态扩容。

1. 希望存储基本类型数据，可以用数组。
2. 事先知道数据大小，并且操作简单，可以用数组。
3. 直观表示多维，可以用数组。
4. 业务开发，使用容器足够，开发框架，追求性能，首先数组。

## 注意

数组是适合查找操作，但是查找的时间复杂度并不为 O(1)。即便是排好序的数组，用二分查找，时间复杂度也是 O(logn)。正确的表述应该是，数组支持随机访问，根据下标随机访问的时间复杂度为 O(1)。






